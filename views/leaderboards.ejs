<%
  let content = [];
  let total = {
    total: 0,
    deleted: 0
  };
  for (let i = 0; i < handles.length; i++) {
    total.deleted += handles[i].deleted;
    total.total += handles[i].total;
    content.push(`
<tr>
  <td colspan='1'>${i+1}</td>
  <td colspan='3'><a href="${handles[i].handle}">${handles[i].handle}</a></td>
  <td colspan='1'>${handles[i].deleted}</td>
  <td colspan='1'>${handles[i].total}</td>
  <td colspan='1'>${Math.floor((handles[i].deleted/handles[i].total)*10000)/100}%</td>
</tr>
  `)
}
%>
<html>
<head>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" type="image/png" href="img/favicon.png" sizes="196x196">
  <base href="<%=basehref%>">
  <title>Deadbird :: Leaderboards</title>
</head>
<body>
  <a href=""><h1 class="deadbirdtitle"><img id='deadbirdLogo' src='img/deadbird.svg'>Deadbird</h1></a>
  <% include navbar %>
  <div id="deadbirdMain">
    <h1>Leaderboards</h1><br>
    <p>Total tweets saved: <%=total.total%><br>
    Total tweets deleted: <%=total.deleted%><br>
    </p>
    <table id="leaderboard" class="table table-hover">
      <thead>
        <th colspan='1'>#</th>
        <th colspan='3'>Name</th>
        <th colspan='1'>Deleted Tweets</th>
        <th colspan='1'>Total Tweets</th>
        <th colspan='1'>Ratio</th>
      </thead>
      <tbody>
      <%-content.join('')%>
      </tbody>
    </table>
  </div>
  <script src="js/moment.min.js"></script>
  <script src="js/jquery.js"></script>
  <script src="js/general.js"></script>
</body>
</html>
